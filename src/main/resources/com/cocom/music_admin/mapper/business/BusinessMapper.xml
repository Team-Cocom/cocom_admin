<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cocom.music_admin.mapper.business.BusinessMapper">
    <select id="selectMusicSeq" resultType="java.lang.Integer">
        select mu_seq from music_info where mu_music_file = #{filename}
    </select>
    <insert id="insertAdminRecommend">
        INSERT INTO admin_recommend
        (ard_aa_seq, ard_mu_seq, ard_title, ard_ab_seq)
        VALUES
        (#{ard_aa_seq},#{ard_mu_seq},#{ard_title},#{ard_ab_seq})
    </insert>
    <select id="selectAllTodayRecommend" resultType="com.cocom.music_admin.data.business.request.AdminPlayListVO">
        select a.*,b.mu_name, b.mu_music_file, b.mu_age,b.mu_img_file  from admin_recommend a inner join music_info b on 
        a.ard_mu_seq = b.mu_seq
        group by a.ard_title limit 1
    </select>
    <select id="selectAllRecommendGenre" resultType="com.cocom.music_admin.data.business.request.AdminPlayListVO">
    select a.*,b.mu_name, b.mu_music_file, b.mu_age,b.mu_img_file  from admin_recommend a inner join music_info b on 
    a.ard_mu_seq = b.mu_seq
    group by a.ard_title order by rand() limit 5
    </select>
    <select id="selectAllRecommendArtis" resultType="com.cocom.music_admin.data.business.request.AdminPlayListVO">
    select a.*,b.mu_name, b.mu_music_file, b.mu_age,b.mu_img_file  from admin_recommend a inner join music_info b on 
    a.ard_mu_seq = b.mu_seq
    group by a.ard_title order by rand() limit 5
    </select>
    <select id="selectAllRecommendAlbum" resultType="com.cocom.music_admin.data.business.request.AdminPlayListVO">
    select a.*,b.mu_name, b.mu_music_file, b.mu_age,b.mu_img_file  from admin_recommend a inner join music_info b on 
    a.ard_mu_seq = b.mu_seq
    group by a.ard_title order by rand() limit 5
    </select>
    <select id="selectRecommendByString" resultType="com.cocom.music_admin.data.business.request.AdminPlayListVO">
        select * from admin_play_list where ard_title = #{title}
    </select>
</mapper>